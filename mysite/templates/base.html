{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>STRAIGHT</title>
	<link rel="stylesheet" href="{% static 'css/layout.css' %}">
</head>
<body onload="startTime()">
	<!-- FULL TENTANG SIDEBAR -->
	<nav>
		<div id="mySidenav" class="sidenav">

			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<b><p style="float: right; padding-right: 24px; font-size: 25pt;">Dashboard</p></b>
			<img src="{% static 'images/logostraightbulet.png' %}" style="padding-top: 16px; padding-left: 30px; display:inline-block;">
			<h1 style="padding-left: 30px; padding-top: 30px;">MAIN</h1>
			<a href="/"> <img src="{% static 'images/home.png' %}" style="padding-right: 16px;">Home</a>

			{% if user.is_authenticated %}
				<a href="{% url 'blogs:index' %}"><img src="{% static 'images/task.png' %}" style="padding-right: 16px;">Project</a>
				<a href="{% url 'notif' %}"><img src="{% static 'images/notif.png' %}" style="padding-right: 16px;">Notifications</a>
				<a href="{% url 'teammanagement' %}"><img src="{% static 'images/team.png' %}" style="padding-right: 16px;">Team Management</a>
				<!-- <a href="/kontak">Contact</a> -->
				
				<br>
				<h1 style="padding-left: 30px;">SETTINGS</h1>
				<a href="{% url 'profile' %}"><img src="{% static 'images/profile.png' %}" style="padding-right: 16px;">Profile</a>
				<a href="{% url 'logout' %}"><img src="{% static 'images/logout.png' %}" style="padding-right: 16px;">Logout</a>

				{% if request.user.username == "admin" %}
					<br>
					<h1 style="padding-left: 30px;">MASTER</h1>
					<a href="{% url 'usermanagement' %}"><img src="{% static 'images/user.png' %}" style="padding-right: 16px;">User Management</a>
				{% endif %}
			{% else %}
				<a href="{% url 'login' %}">Sign in</a>
				<a href="{% url 'signup' %}">Signup</a>
			{% endif %}
		</div>
	</nav>
	<!--  -->

	<div id="main">
		
		<div class="topnav">
			<span style="font-size:30px;cursor:pointer;float: left; padding-top: 16px;" onclick="openNav()">&#9776;</span>
			<h1 style="float: left; padding-left: 16px; color: rgb(0, 109, 109);">{% block title%}{% endblock %}</h1>
			
			{% if user.is_authenticated %}
				<a href="">
					<img src="{% static 'images/panahbawah.png' %}" style="padding-left: 8px; float: right; padding-top: 28px;">
					<h1 style=" float: right; color: rgb(0, 109, 109);">{{request.user.username}}</h1>
					<img src="{% static 'images/fotoprofil.png' %}" style="padding-right: 8px; float: right; padding-top: 20px;">
				</a>
				<a href="{% url 'notif' %}"><img src="{% static 'images/Group_187.png' %}" alt="notificationlogo" style="float: right; padding-right: 16px; padding-top: 20px;"></a>
				<a href=""><img src="{% static 'images/Group_188.png' %}" alt="searchlogo" style="float: right; padding-right: 16px; padding-top: 20px;"></a>
			{% endif %}
			{% if messages %}
				<ul class = "messages">
					{% for message in messages %}
						<li {% if message.tags %} class="{{ message.tags }}"{% endif %}> {{ message }} </li>
					{% endfor %}
				</ul>
			{% endif %}
		</div>


		<div class="allcontent">
			{% block content %}{% endblock %}
		</div>	
	</div>
	
	<script>
	function openNav() {
		document.getElementById("mySidenav").style.width = "320px";
		document.getElementById("main").style.marginLeft = "320px";
		document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
	}

	function closeNav() {
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("main").style.marginLeft= "0";
		document.body.style.backgroundColor = "lightgray";
	}

	function startTime() {
		const today = new Date();
		let h = today.getHours();
		let m = today.getMinutes();
		let s = today.getSeconds();
		m = checkTime(m);
		s = checkTime(s);
		ampm = '';
		if (h == 0 || h <= 11) {ampm = 'AM'}
		else {ampm = 'PM'}
		document.getElementById('time').innerHTML =  h + ":" + m + ":" + s + " " + ampm;
		harii = today.getDay();
		hari = '';
		if(harii == 6) {hari = 'Saturday'}
		else if(harii == 5){hari = 'Friday'}
		else if(harii == 4){hari = 'Thursday'}
		else if(harii == 3){hari = 'Wednesday'}
		else if(harii == 2){hari = 'Tuesday'}
		else if(harii == 1){hari = 'Monday'}
		else {hari = 'Sunday'} 
		document.getElementById('day').innerHTML =  hari;

		tahun = today.getFullYear();
		const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
		bulan = months[today.getMonth()];
		tanggal = today.getDate();
		document.getElementById('date').innerHTML =  tanggal + " " + bulan + " " + tahun;
		setTimeout(startTime, 1000);
	}

	function checkTime(i) {
		if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
		return i;
	}
	

	</script>
</body>
</html>